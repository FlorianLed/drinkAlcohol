<div class="container">
  <form #formulaire="ngForm" (submit)="createProduct()">
    <div class="form-group">
      <div class="row">
        <input type="text" class="form-control" placeholder="Nom du Produit" name="nom" [(ngModel)]="tmpNom" required>
        <input type="number" class="form-control" placeholder="Prix" name="prix" [(ngModel)]="tmpPrix" required>
        <input type="number" class="form-control" name="stock" placeholder="Stock" [(ngModel)]="tmpStock"  required>
        <input type="text" class="form-control" name="url" placeholder="URL image" [(ngModel)]="tmpUrlImage" required>
        <textarea class="form-control" rows="5" name="description" placeholder="Description" [(ngModel)]="tmpDescription" required></textarea>
        <input type="text" class="form-control" name="pourcentage" placeholder="Pourcentage" [(ngModel)]="tmpPourcentage" required>

        <button type="submit" class="btn btn-default" [disabled]="!formulaire.form.valid">Valider</button>
      </div>
    </div>
    <!--{{listeProduit|json}}-->
  </form>
</div>

<br>

<div class="container w3-container">
  <div class="row itemsBlock">
    <div *ngFor="let produit of listeProduit; index as i;" class="col-md-2">
      <div class="w3-card" style="width:90%">
        <img [src]="produit.urlImage" alt="Person" style="width:100%">
        <div class="w3-container">
          <br>
          <h6><input type="text"  class="form-control" [(ngModel)]="produit.nom" (blur)="updateProduit(produit)"></h6>
          <h6>Prix : <input type="text"  class="form-control" [(ngModel)]="produit.prix" (blur)="updateProduit(produit)"></h6>
          <h6>Stock : <input type="text"  class="form-control" [(ngModel)]="produit.stock" (blur)="updateProduit(produit)"></h6>
          <h6>Pourcentage : <input type="text"  class="form-control" [(ngModel)]="produit.pourcentage" (blur)="updateProduit(produit)"></h6>
          <h6><button type="submit" class="btn btn-default" data-toggle="modal" data-target="#myModal">Description</button></h6>

          <div class="modal fade" id="myModal" role="dialog">
            <div class="modal-dialog">

              <div class="modal-content">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal">&times;</button>
                  <h4 class="modal-title">Description</h4>
                </div>
                <div class="modal-body">
                  <textarea class="form-control" rows="5" [(ngModel)]="produit.description" (blur)="updateProduit(produit)"></textarea>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-default" data-dismiss="modal">Confirmer</button>
                </div>
              </div>

            </div>
          </div>

          <button class="btn btn-success" (click)="deleteProduit(i)">Supprimer</button>
        </div>
        <br>
      </div>
      <br>
    </div>
  </div>
</div>
<br>

