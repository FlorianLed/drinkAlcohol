<div class="container w3-container">
  <h1><b>Panier</b></h1>
  <div class="row itemsBlock">
    <div *ngFor="let produit of ListeAuPanier;index as i;" class="col-md-2">
      <div class="w3-card" style="width:90%">
        <img [src]="produit.urlImage" alt="Person" style="width:100%">
        <span class="label label-success">X</span>
        <div class="w3-container">
          <br>
          <h6>{{produit.nom}}</h6>
          <h6>Prix : {{produit.prix}}€</h6>
          <h6>Quantité : <input type="number" class="form-control" [ngStyle]="{'color': quantite[i] <= produit.stock && quantite[i]>=1 ? 'green' : 'red'}" placeholder="Quantité de Stock" name="quantite" [(ngModel)]="quantite[i]"  min="1" [max]="produit.stock" required></h6>
          <h6><button class="btn btn-success btn-lg" (click)="quantite[i] = quantite[i]+1">+</button> <button class="btn btn-danger btn-lg" (click)="quantite[i] = quantite[i]-1">-</button></h6>
        </div>
        <br>
      </div>
      <br>
    </div>
  </div>
  <button type="submit" class="btn btn-default" (click)="totalAllOrder()" data-toggle="modal" data-target="#myModal">Valider la commande : {{totalAllOrder()}}€</button>

  <div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">

      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Montant total : {{totalAllOrder()}}€</h4>
        </div>
        <div class="modal-body">
          <img src="http://lofrev.net/wp-content/photos/2016/06/pay-pal-logo-2.png" style="width:30%">
          <br><br>
          <input type="text" class="form-control"  name="Email" placeholder="Email">
          <br>
          <input type="text" class="form-control"  name="mp" placeholder="Mot de passe">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" (click)="creerCommande()" data-dismiss="modal">Confirmer</button>
        </div>
      </div>

    </div>
  </div>

</div>

<h2>Ma dernière commande</h2>
<div class="row itemsBlock">
  <div *ngFor="let produit of listeMaDerniereCommande; index as i" class="col-md-2">
    <div class="w3-card" style="width:90%">
      <img [src]="produit.urlImage" alt="Person" style="width:100%">
      <div class="w3-container">
        <br>
        <h6>{{produit.nom}}</h6>
        <h6>Prix : {{produit.prix}}€</h6> </div>
      <br>
    </div>
    <br>
  </div>
</div>

<br><br><br>
<button (click)="historiqueCommande()" onclick="this.disabled = 'disabled'">Afficher</button>
